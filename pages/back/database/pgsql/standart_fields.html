<!DOCTYPE html>
<html lang="en">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>hi</title>
</head>
<body>

<div id="wrapper"></div>
<div id="data" date="29-01-2018" title="Создание стандартный полей: ts_create, ts_modify, user_id, modify_user_id"></div>
<div id="content">

<h3 id="Поля">Поля</h3>

<!-- ------------------------------------------------------------- -->

<pre><code class="sql">ALTER TABLE schema.table
  ADD COLUMN ts_create TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT now() NOT NULL;

ALTER TABLE schema.table
  ADD COLUMN ts_modify TIMESTAMP(0) WITHOUT TIME ZONE;

ALTER TABLE schema.table
  ADD COLUMN user_id INTEGER NOT NULL;

ALTER TABLE schema.table
  ADD COLUMN modify_user_id INTEGER;

ALTER TABLE schema.table
  ADD COLUMN _trigger_off BOOLEAN;

COMMENT ON COLUMN schema.table.ts_create
IS 'Дата создания записи';

COMMENT ON COLUMN schema.table.ts_modify
IS 'Дата последнего обновления';

COMMENT ON COLUMN schema.table.user_id
IS 'Пользователь создавший запись';

COMMENT ON COLUMN schema.table.modify_user_id
IS 'Пользователь изменивший запись';
</code></pre>


<h3 id="DBIx">DBIx</h3>

<!-- ------------------------------------------------------------- -->

<pre><code class="perl">
    'ts_create',
        {
            data_type           => 'datetime',
            timezone            => 'local',
            is_nullable         => 0,
            default_value       => \'now()',
            retrieve_on_insert  => 1
        },
    'ts_modify',
        {
            data_type           => 'datetime',
            timezone            => 'local',
            is_nullable         => 1,
        },
    'user_id',
        {
            data_type           => 'integer',
            is_nullable         => 0
        },
    'modify_user_id',
        {
            data_type           => 'integer',
            is_nullable         => 1
        },
</code></pre>

<!-- ------------------------------------------------------------- -->

</div><!-- .content -->

<div id="footer"></div>

<script src="/doc/static/js/highlight.pack.js"></script>
<script src="/doc/static/js/jquery-3.2.1.min.js"></script>
<script src="/doc/static/js/handlebars-v4.0.11.js"></script>
<script src="/doc/static/js/init.js"></script>

</body>
</html>
